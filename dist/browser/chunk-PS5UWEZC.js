import{a as at,b as st,c as lt,d as ct,e as mt}from"./chunk-ZXXQPT2K.js";import{a as rt,b as ot,f as nt}from"./chunk-EDLSFNUB.js";import{i as Pe,k as ze}from"./chunk-YOGVNQSG.js";import{a as qe,b as Ge}from"./chunk-OXDELVB2.js";import{w as $e}from"./chunk-D7BAGR3P.js";import{b as it}from"./chunk-7HPJJM5R.js";import{a as Ne,c as K,h as H,i as J,k as tt,m as ne,n as ae}from"./chunk-S5EGDSMZ.js";import{c as te,e as L,g as ie,h as We,j as Ke,k as He,l as Je,m as Xe,n as Ye,o as Ze,q as et,r as re,s as oe}from"./chunk-MFXYIEP5.js";import{V as je,W as Ae,ba as Ve,ea as Le,ga as X,ia as Be,ja as Oe,ka as Y,ma as Z,na as ee}from"./chunk-GZIOB5VH.js";import"./chunk-QWI5PWUG.js";import{a as Qe}from"./chunk-2MWZZXHX.js";import{A as W,b as Fe,d as Me,e as De,h as Ue,j as Ee,l as Re,q as Te,x as q,y as G,z as U}from"./chunk-N75GUXKZ.js";import{$ as he,$a as a,$b as z,A as R,C as fe,Cb as xe,Db as v,Fb as ge,G as I,Gb as be,Gc as Q,Hb as s,Ib as c,Jb as f,Nb as A,Tb as w,U as g,V as k,Vb as d,X as T,Ya as j,Zb as O,_b as P,ab as h,c as ue,cc as ye,dc as p,ea as ve,f as $,fa as B,fb as _e,fc as _,g as le,ka as M,l as de,lb as Ce,lc as D,m as N,mc as V,nc as we,oc as Ie,q as F,tc as ce,ua as b,ub as C,uc as ke,va as y,vc as Se,wb as m,x as pe}from"./chunk-PTZSXNKB.js";import"./chunk-NEB6MB4Y.js";var ut=(()=>{let n=class n{constructor(){}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=M({type:n,selectors:[["users"]],standalone:!0,features:[D],decls:1,vars:0,template:function(t,r){t&1&&f(0,"router-outlet")},dependencies:[G],encapsulation:2,changeDetection:0});let i=n;return i})();var S=(()=>{let n=class n{constructor(e){this._httpClient=e,this.apiUrl=`${Qe.apiUrl}/Profile`,this._user=new le(null),this._users=new le(null)}get user$(){return this._user.asObservable()}get users$(){return this._users.asObservable()}getUsers(){return this._httpClient.get(`${this.apiUrl}/get-users`).pipe(T(e=>{this._users.next(e)}))}getUserById(e){return this._users.pipe(I(1),F(t=>{console.log("id ",e),console.log("contacts ",t);let r=t.find(l=>l.usuarioId==e)||null;return console.log("contacto buscado ",r),this._user.next(r),r}),g(t=>t?de(t):N("Could not found contact with id of "+e+"!")))}createContact(){return this.users$.pipe(I(1),g(e=>this._httpClient.post("api/apps/contacts/contact",{}).pipe(F(t=>{var r={avatar:null,email:"",fechaCreacion:null,nombreUsuario:"",usuarioId:0};return this._users.next([r,...e]),r}))))}updateUsers(e){return this._httpClient.post(`${this.apiUrl}/created-user`,e).pipe(T(t=>{this.users$.pipe(I(1)).subscribe(r=>{let l=r.some(u=>u.usuarioId===t.usuarioId)?r.map(u=>u.rolId===t.usuarioId?t:u):[...r,t];this._users.next(l)})}))}updateContact(e,t){return this.users$.pipe(I(1),g(r=>this._httpClient.patch(`${this.apiUrl}/get-users`,{id:e,contact:t}).pipe(F(l=>{let u=r.findIndex(x=>x.id===e);return r[u]=l,this._users.next(r),l}),g(l=>this.user$.pipe(I(1),R(u=>u&&u.id===e),T(()=>(this._user.next(l),l)))))))}deleteContact(e){return this.users$.pipe(I(1),g(t=>this._httpClient.delete("api/apps/contacts/contact",{params:{id:e}}).pipe(F(r=>{let l=t.findIndex(u=>u.id===e);return t.splice(l,1),this._users.next(t),r}))))}uploadAvatar(e,t){return this.users$.pipe(I(1),g(r=>this._httpClient.post(`${this.apiUrl}/upload-avatar`,{id:e,avatar:t},{headers:{"Content-Type":t.type}}).pipe(F(l=>{let u=r.findIndex(x=>x.id===e);return r[u]=l,this._users.next(r),l}),g(l=>this.user$.pipe(I(1),R(u=>u&&u.id===e),T(()=>(this._users.next(l),l)))))))}searchContacts(e){let t=this._users.value.filter(r=>r.name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase()));return new ue(r=>{r.next(t),r.complete()})}};n.\u0275fac=function(t){return new(t||n)(ve(Te))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var kt=["matDrawer"],St=()=>({"=0":"No users","=1":"user",other:"users"}),Ft=(i,n)=>({"dark:hover:bg-hover hover:bg-gray-100":i,"bg-primary-50 dark:bg-hover":n}),Mt=i=>["./",i];function Dt(i,n){if(i&1&&p(0),i&2){let o=d();_(" ",o.contactsCount," ")}}function Ut(i,n){if(i&1&&(s(0,"div",19),p(1),c()),i&2){let o=d().$implicit;a(),_(" ",o.nombreUsuario," ")}}function Et(i,n){if(i&1&&f(0,"img",21),i&2){let o=d().$implicit;m("src",o.avatar,j)}}function Rt(i,n){if(i&1&&(s(0,"div",22),p(1),c()),i&2){let o=d().$implicit;a(),_(" ",o.nombreUsuario," ")}}function Tt(i,n){if(i&1&&(C(0,Ut,2,1,"div",19),s(1,"a",18)(2,"div",20),C(3,Et,1,1,"img",21)(4,Rt,2,1,"div",22),c(),s(5,"div",23)(6,"div",24),p(7),c()()()),i&2){let o=n.$implicit,e=n.$index,t=d(2),r=d();v(e===0||o.nombreUsuario!==t[e-1].nombreUsuario?0:-1),a(),m("ngClass",Ie(6,Ft,!r.selectedContact||r.selectedContact.id!==o.usuarioId,r.selectedContact&&r.selectedContact.id===o.usuarioId))("routerLink",we(9,Mt,o.usuarioId)),a(2),v(o.avatar?3:-1),a(),v(o.avatar?-1:4),a(3),_(" ",o.nombreUsuario," ")}}function jt(i,n){if(i&1&&ge(0,Tt,8,11,"a",18,xe().trackByFn,!0),i&2){let o=d();be(o)}}function At(i,n){i&1&&(s(0,"div",17),p(1," There are no users! "),c())}function Vt(i,n){i&1&&C(0,jt,2,0)(1,At,2,0,"div",17),i&2&&v(n.length?0:1)}var se=(()=>{let n=class n{constructor(e,t,r,l,u,x){this._activatedRoute=e,this._changeDetectorRef=t,this._usersService=r,this._document=l,this._router=u,this._fuseMediaWatcherService=x,this.contactsCount=0,this.contactsTableColumns=["name","email"],this.searchInputControl=new Ke,this._unsubscribeAll=new $}ngOnInit(){this.users$=this._usersService.users$,this._usersService.users$.pipe(k(this._unsubscribeAll)).subscribe(e=>{this.contactsCount=e.length,this._changeDetectorRef.markForCheck()}),this._usersService.user$.pipe(k(this._unsubscribeAll)).subscribe(e=>{this.selectedContact=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe(k(this._unsubscribeAll),g(e=>this._usersService.searchContacts(e))).subscribe(),this.matDrawer.openedChange.subscribe(e=>{e||(this.selectedContact=null,this._changeDetectorRef.markForCheck())}),this._fuseMediaWatcherService.onMediaChange$.pipe(k(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{e.includes("lg")?this.drawerMode="side":this.drawerMode="over",this._changeDetectorRef.markForCheck()}),pe(this._document,"keydown").pipe(k(this._unsubscribeAll),R(e=>(e.ctrlKey===!0||e.metaKey)&&e.key==="/")).subscribe(()=>{this.createContact()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createContact(){this._usersService.createContact().subscribe(e=>{this._router.navigate(["./",e.usuarioId],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}trackByFn(e,t){return t.id||e}};n.\u0275fac=function(t){return new(t||n)(h(q),h(Q),h(S),h(Fe),h(U),h(ze))},n.\u0275cmp=M({type:n,selectors:[["users-list"]],viewQuery:function(t,r){if(t&1&&O(kt,7),t&2){let l;P(l=z())&&(r.matDrawer=l.first)}},standalone:!0,features:[D],decls:27,vars:19,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","h-full","flex-auto","dark:bg-transparent",3,"backdropClick"],[1,"w-full","dark:bg-gray-900","md:w-160",3,"mode","opened","position","disableClose"],[1,"flex","flex-col"],[1,"flex-auto"],[1,"flex","flex-auto","flex-col","justify-between","border-b","px-6","py-8","sm:flex-row","md:flex-col","md:px-8"],[1,"text-4xl","font-extrabold","leading-none","tracking-tight"],[1,"text-secondary","ml-0.5","font-medium"],[1,"mt-4","flex","items-center","sm:mt-0","md:mt-4"],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"relative"],[1,"border-t","p-8","text-center","text-4xl","font-semibold","tracking-tight","sm:p-16"],[1,"z-20","flex","cursor-pointer","items-center","border-b","px-6","py-4","md:px-8",3,"ngClass","routerLink"],[1,"text-secondary","sticky","top-0","z-10","-mt-px","border-b","border-t","bg-gray-50","px-6","py-1","font-medium","uppercase","dark:bg-gray-900","md:px-8"],[1,"flex","h-10","w-10","flex-0","items-center","justify-center","overflow-hidden","rounded-full"],["alt","Contact avatar",1,"h-full","w-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-lg","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"ml-4","min-w-0"],[1,"truncate","font-medium","leading-5"]],template:function(t,r){if(t&1){let l=A();s(0,"div",1)(1,"mat-drawer-container",2),w("backdropClick",function(){return b(l),y(r.onBackdropClicked())}),s(2,"mat-drawer",3,0),f(4,"router-outlet"),c(),s(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),p(10," Usuarios "),c(),s(11,"div",8),C(12,Dt,1,1),p(13),ce(14,"i18nPlural"),c()(),s(15,"div",9)(16,"div",5)(17,"mat-form-field",10),f(18,"mat-icon",11)(19,"input",12),c()(),s(20,"button",13),w("click",function(){return b(l),y(r.createContact())}),f(21,"mat-icon",14),s(22,"span",15),p(23,"Add"),c()()()(),s(24,"div",16),C(25,Vt,2,1),ce(26,"async"),c()()()()()}if(t&2){let l;a(2),m("mode",r.drawerMode)("opened",!1)("position","end")("disableClose",!0),a(10),v(r.contactsCount>0?12:-1),a(),_(" ",Se(14,13,r.contactsCount,V(18,St))," "),a(5),m("svgIcon","heroicons_solid:magnifying-glass"),a(),m("formControl",r.searchInputControl)("autocomplete","off")("placeholder","Search users"),a(),m("color","primary"),a(),m("svgIcon","heroicons_outline:plus"),a(4),v((l=ke(26,16,r.users$))?25:-1,l)}},dependencies:[ct,st,lt,at,G,J,H,K,ee,Z,ae,ne,re,te,ie,oe,Je,Y,X,Me,W,Ue,Ee],encapsulation:2,changeDetection:0});let i=n;return i})();var $t=["avatarFileInput"],pt=()=>["../"];function Nt(i,n){if(i&1&&f(0,"img",11),i&2){let o=d(2);m("src",o.user.avatar,j)}}function Bt(i,n){if(i&1&&(s(0,"div",12),p(1),c()),i&2){let o=d(2);a(),_(" ",o.user.nombreUsuario," ")}}function Ot(i,n){if(i&1&&(s(0,"div",19),f(1,"mat-icon",20),s(2,"div",21),p(3),c()()),i&2){let o=d(2);a(),m("svgIcon","heroicons_solid:user-circle"),a(2),_(" ",o.user.nombreUsuario," ")}}function Pt(i,n){if(i&1&&(s(0,"div",19),f(1,"mat-icon",20),s(2,"div",21),p(3),c()()),i&2){let o=d(2);a(),m("svgIcon","heroicons_outline:envelope"),a(2),_(" ",o.user.email," ")}}function zt(i,n){if(i&1){let o=A();s(0,"div",2),f(1,"img",3),s(2,"div",4)(3,"a",5),f(4,"mat-icon",6),c()()(),s(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10),C(9,Nt,1,1,"img",11)(10,Bt,2,1,"div",12),c(),s(11,"div",13)(12,"button",14),w("click",function(){b(o);let t=d();return y(t.toggleEditMode(!0))}),f(13,"mat-icon",15),s(14,"span",16),p(15,"Edit"),c()()()(),s(16,"div",17),p(17),c(),s(18,"div",18),C(19,Ot,4,2,"div",19)(20,Pt,4,2,"div",19),c()()()}if(i&2){let o=d();a(3),m("matTooltip","Close")("routerLink",V(9,pt)),a(),m("svgIcon","heroicons_outline:x-mark"),a(5),v(o.user.avatar?9:-1),a(),v(o.user.nombreUsuario?10:-1),a(3),m("svgIcon","heroicons_solid:pencil-square"),a(4),_(" ",o.user.nombreUsuario," "),a(2),v(o.user.nombreUsuario?19:-1),a(),v(o.user.email?20:-1)}}function Qt(i,n){if(i&1&&f(0,"img",11),i&2){let o=d(2);m("src",o.user.avatar,j)}}function qt(i,n){if(i&1&&(s(0,"div",12),p(1),c()),i&2){let o=d(2);a(),_(" ",o.user.nombreUsuario," ")}}function Gt(i,n){if(i&1&&(s(0,"div",12),p(1),c()),i&2){let o=d(2);a(),_(" ",o.user.email," ")}}function Wt(i,n){if(i&1&&(s(0,"mat-option",42),p(1),c()),i&2){let o=n.$implicit;m("value",o.rolId),a(),_(" ",o.nombreRol," ")}}function Kt(i,n){if(i&1){let o=A();s(0,"div",2),f(1,"img",22),s(2,"div",4)(3,"a",5),f(4,"mat-icon",6),c()()(),s(5,"div",23)(6,"div",8)(7,"form",24)(8,"div",9)(9,"div",25),f(10,"div",26),s(11,"div",27)(12,"div")(13,"input",28,0),w("change",function(){b(o);let t=ye(14),r=d();return y(r.uploadAvatar(t.files))}),c(),s(15,"label",29),f(16,"mat-icon",6),c()(),s(17,"div")(18,"button",30),w("click",function(){b(o);let t=d();return y(t.removeAvatar())}),f(19,"mat-icon",6),c()()(),C(20,Qt,1,1,"img",11)(21,qt,2,1,"div",12)(22,Gt,2,1,"div",12),c()(),s(23,"div",31)(24,"mat-form-field",32)(25,"mat-label"),p(26,"Nombre Usuario"),c(),f(27,"mat-icon",33)(28,"input",34),c()(),s(29,"div",31)(30,"mat-form-field",32)(31,"mat-label"),p(32,"Email"),c(),f(33,"mat-icon",33)(34,"input",34),c()(),s(35,"div",31)(36,"mat-form-field",35)(37,"mat-label"),p(38,"Rol"),c(),s(39,"mat-select",36),C(40,Wt,2,2,"mat-option",37),c()()(),s(41,"div",38)(42,"button",39),w("click",function(){b(o);let t=d();return y(t.deleteContact())}),p(43," Delete "),c(),s(44,"button",40),w("click",function(){b(o);let t=d();return y(t.toggleEditMode(!1))}),p(45," Cancel "),c(),s(46,"button",41),w("click",function(){b(o);let t=d();return y(t.updateContact())}),p(47," Save "),c()()()()()}if(i&2){let o=d();a(3),m("matTooltip","Close")("routerLink",V(28,pt)),a(),m("svgIcon","heroicons_outline:x-mark"),a(3),m("formGroup",o.contactForm),a(6),m("multiple",!1)("accept","image/jpeg, image/png"),a(3),m("svgIcon","heroicons_outline:camera"),a(3),m("svgIcon","heroicons_outline:trash"),a(),v(o.user.avatar?20:-1),a(),v(o.user.nombreUsuario?-1:21),a(),v(o.user.email?-1:22),a(2),m("subscriptSizing","dynamic"),a(3),m("svgIcon","heroicons_solid:user-circle"),a(),m("formControlName","nombreUsuario")("placeholder","Name")("spellcheck",!1),a(2),m("subscriptSizing","dynamic"),a(3),m("svgIcon","heroicons_solid:envelope"),a(),m("formControlName","email")("placeholder","Email")("spellcheck",!1),a(6),m("ngForOf",o.roles),a(2),m("color","warn")("matTooltip","Delete"),a(2),m("matTooltip","Cancel"),a(2),m("color","primary")("disabled",o.contactForm.invalid)("matTooltip","Save")}}var ft=(()=>{let n=class n{constructor(e,t,r,l,u,x,E,ht,vt,_t,Ct){this._activatedRoute=e,this._changeDetectorRef=t,this._usersListComponent=r,this._usersService=l,this._formBuilder=u,this._fuseConfirmationService=x,this._renderer2=E,this._router=ht,this._overlay=vt,this._viewContainerRef=_t,this._rolService=Ct,this.editMode=!1,this.tagsEditMode=!1,this._unsubscribeAll=new $,this.roles=[]}ngOnInit(){this._rolService.getRoles().subscribe(e=>{console.log("respuesta roles ",e),this.roles=e}),this._usersListComponent.matDrawer.open(),this.contactForm=this._formBuilder.group({usuarioId:[""],avatar:[null],nombreUsuario:["",[L.required]],email:["",[L.required,L.email]],rolId:["",[L.required]]}),this._usersService.users$.pipe(k(this._unsubscribeAll)).subscribe(e=>{this.users=e,this._changeDetectorRef.markForCheck()}),this._usersService.user$.pipe(k(this._unsubscribeAll)).subscribe(e=>{this._usersListComponent.matDrawer.open(),this.user=e,console.log("informacion de usuario ",e),this.contactForm.patchValue(e),this.toggleEditMode(!1),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._usersListComponent.matDrawer.close()}toggleEditMode(e=null){e===null?this.editMode=!this.editMode:this.editMode=e,this._changeDetectorRef.markForCheck()}updateContact(){let e=this.contactForm.getRawValue();e.avatar&&e.avatar.startsWith("data:image")&&(e.avatar=e.avatar.split(",")[1]),console.log("Usuario a guardar",e),this._usersService.updateUsers(e).subscribe(t=>{console.log("Respuesta guardado de usuario",t)})}deleteContact(){this._fuseConfirmationService.open({title:"Delete user",message:"Are you sure you want to delete this user? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(t=>{if(t==="confirmed"){let r=this.user.usuarioId,l=this.users.findIndex(E=>E.usuarioId===r),u=l+(l===this.users.length-1?-1:1),x=this.users.length===1&&this.users[0].usuarioId===r?null:this.users[u].usuarioId;this._usersService.deleteContact(r).subscribe(E=>{E&&(x?this._router.navigate(["../",x],{relativeTo:this._activatedRoute}):this._router.navigate(["../"],{relativeTo:this._activatedRoute}),this.toggleEditMode(!1))}),this._changeDetectorRef.markForCheck()}})}uploadAvatar(e){if(!e.length)return;let t=["image/jpeg","image/png"],r=e[0];if(!t.includes(r.type)){console.error("Tipo de archivo no permitido.");return}let l=new FileReader;l.onload=()=>{let u=l.result;this.contactForm.patchValue({avatar:u}),this.user.avatar=u,console.log("Avatar convertido a Base64 y asignado al formulario:",u)},l.readAsDataURL(r)}removeAvatar(){this.contactForm.get("avatar").setValue(null),this._avatarFileInput.nativeElement.value=null,this.user.avatar=null}addEmailField(){let e=this._formBuilder.group({email:[""],label:[""]});this.contactForm.get("emails").push(e),this._changeDetectorRef.markForCheck()}removeEmailField(e){this.contactForm.get("emails").removeAt(e),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){let e=this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]});this.contactForm.get("phoneNumbers").push(e),this._changeDetectorRef.markForCheck()}removePhoneNumberField(e){this.contactForm.get("phoneNumbers").removeAt(e),this._changeDetectorRef.markForCheck()}trackByFn(e,t){return t.usuarioId||e}};n.\u0275fac=function(t){return new(t||n)(h(q),h(Q),h(se),h(S),h(et),h(Pe),h(_e),h(U),h($e),h(Ce),h(mt))},n.\u0275cmp=M({type:n,selectors:[["users-details"]],viewQuery:function(t,r){if(t&1&&O($t,5),t&2){let l;P(l=z())&&(r._avatarFileInput=l.first)}},standalone:!0,features:[D],decls:3,vars:2,consts:[["avatarFileInput",""],[1,"flex","w-full","flex-col"],[1,"relative","h-40","w-full","bg-accent-100","px-8","dark:bg-accent-700","sm:h-48","sm:px-12"],["src","images/pages/profile/cover-jr.jpg",1,"absolute","inset-0","h-full","w-full","object-cover"],[1,"mx-auto","flex","w-full","max-w-3xl","items-center","justify-end","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-auto","flex-col","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"-mt-16","flex","flex-auto","items-end"],[1,"ring-bg-card","flex","h-32","w-32","items-center","justify-center","overflow-hidden","rounded-full","ring-4"],[1,"h-full","w-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","overflow-hidden","rounded","bg-gray-200","text-8xl","font-bold","uppercase","leading-none","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"mb-1","ml-auto","flex","items-center"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","truncate","text-4xl","font-bold"],[1,"mt-4","flex","flex-col","space-y-8","border-t","pt-6"],[1,"flex","sm:items-center"],[3,"svgIcon"],[1,"ml-6","leading-6"],["src","images/pages/profile/cover.jpg",1,"absolute","inset-0","h-full","w-full","object-cover"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-12"],[3,"formGroup"],[1,"ring-bg-card","relative","flex","h-32","w-32","items-center","justify-center","overflow-hidden","rounded-full","ring-4"],[1,"absolute","inset-0","z-10","bg-black","bg-opacity-50"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],["id","avatar-file-input","type","file",1,"pointer-events-none","invisible","absolute","h-0","w-0","opacity-0",3,"change","multiple","accept"],["for","avatar-file-input","matRipple","",1,"flex","h-10","w-10","cursor-pointer","items-center","justify-center","rounded-full","hover:bg-hover"],["mat-icon-button","",3,"click"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",3,"formControlName","placeholder","spellcheck"],["appearance","fill",1,"full-width"],["formControlName","rolId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"-mx-6","mt-10","flex","items-center","border-t","bg-gray-50","py-4","pl-1","pr-4","dark:bg-transparent","sm:-mx-12","sm:pl-7","sm:pr-12"],["mat-button","",3,"click","color","matTooltip"],["mat-button","",1,"ml-auto",3,"click","matTooltip"],["mat-flat-button","",1,"ml-2",3,"click","color","disabled","matTooltip"],[3,"value"]],template:function(t,r){t&1&&(s(0,"div",1),C(1,zt,21,10)(2,Kt,48,29),c()),t&2&&(a(),v(r.editMode?-1:1),a(),v(r.editMode?2:-1))},dependencies:[Y,X,Oe,Be,Ge,qe,W,ee,Z,re,He,te,ie,We,Ze,oe,Xe,Ye,Ae,je,J,H,Ne,K,ae,ne,it,ot,rt,Ve,Le,nt,tt,Re,De],encapsulation:2,changeDetection:0});let i=n;return i})();var Ht=(i,n)=>{let o=B(S),e=B(U);return console.log("parametro ",i.paramMap.get("id")),o.getUserById(i.paramMap.get("id")).pipe(fe(t=>{console.error(t);let r=n.url.split("/").slice(0,-1).join("/");return e.navigateByUrl(r),N(t)}))},Jt=(i,n,o,e)=>{let t=e.root;for(;t.firstChild;)t=t.firstChild;return!e.url.includes("/users")||t.paramMap.get("id")?!0:i.closeDrawer().then(()=>!0)},Gi=[{path:"",component:ut,children:[{path:"",component:se,resolve:{users:()=>B(S).getUsers()},children:[{path:":id",component:ft,resolve:{user:Ht},canDeactivate:[Jt]}]}]}];export{Gi as default};
