<div class="max-h-[90vh] overflow-y-auto">
  <form [formGroup]="form" class="p-6 max-w-4xl mx-auto space-y-6">

    <!-- TÍTULO -->
    <h1 class="text-center text-2xl font-bold uppercase text-green-800">
      Encuesta de Satisfacción de Servicios / Proyectos
    </h1>

    <!-- ================= DATOS GENERALES ================= -->
    <section class="border rounded p-4 space-y-4">
      <h2 class="font-bold text-lg text-green-700">Datos del cliente</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <mat-form-field appearance="outline">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="nombre">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Empresa</mat-label>
          <input matInput formControlName="empresa">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Teléfono</mat-label>
          <input matInput formControlName="telefono">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Puesto</mat-label>
          <input matInput formControlName="puesto">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Sucursal</mat-label>
          <input matInput formControlName="sucursal">
        </mat-form-field>
      </div>
    </section>

    <!-- ================= SERVICIOS RECIBIDOS ================= -->
    <section class="border rounded p-4 space-y-3">
      <h2 class="font-bold text-lg text-green-700">
        ¿Qué servicios te han sido proporcionados?
      </h2>

      <mat-radio-group formControlName="serviciosRecibidos" class="grid grid-cols-1 sm:grid-cols-2 gap-2">
        <mat-radio-button value="Calidad de energía">Calidad de energía</mat-radio-button>
        <mat-radio-button value="Instalaciones eléctricas">Instalaciones eléctricas</mat-radio-button>
        <mat-radio-button value="Construcción de obra electromecánica">Construcción de obra electromecánica</mat-radio-button>
        <mat-radio-button value="Mantenimiento preventivo y correctivo">Mantenimiento preventivo y correctivo</mat-radio-button>
        <mat-radio-button value="Integración de centros de carga">Integración de centros de carga</mat-radio-button>
        <mat-radio-button value="Código de red">Código de red</mat-radio-button>
        <mat-radio-button value="Pruebas a transformadores">Pruebas a transformadores</mat-radio-button>
        <mat-radio-button value="Pruebas a cable VLF">Pruebas a cable VLF</mat-radio-button>
        <mat-radio-button value="Termografía">Termografía</mat-radio-button>
        <mat-radio-button value="Pararrayos">Pararrayos</mat-radio-button>
        <mat-radio-button value="Sistemas de tierras">Sistemas de tierras</mat-radio-button>
        <mat-radio-button value="Trámites y gestiones">Trámites y gestiones</mat-radio-button>
        <mat-radio-button value="Arc Flash">Arc Flash</mat-radio-button>
        <mat-radio-button value="Coordinación de protecciones">Coordinación de protecciones</mat-radio-button>
        <mat-radio-button value="Estudios de iluminación">Estudios de iluminación</mat-radio-button>
        <mat-radio-button value="Sistemas de monitoreo">Sistemas de monitoreo</mat-radio-button>
      </mat-radio-group>
    </section>

    <!-- ================= ESCALA 0 - 10 ================= -->
    <section class="space-y-6">
      <h2 class="font-bold text-lg text-green-700">
        Califica nuestro servicio (0 = más bajo, 10 = más alto)
      </h2>

      <div *ngFor="let field of fields" class="border rounded p-4 space-y-3">
        <label class="font-semibold block">{{ field.label }}</label>

        <div class="flex flex-wrap gap-2">
          <div
            *ngFor="let item of scale"
            class="w-10 h-10 flex flex-col items-center justify-center rounded cursor-default border"
            [class.bg-green-300]="form.get(field.control)?.value === item.value"
          >
            <span>{{ item.emoji }}</span>
            <small>{{ item.value }}</small>
          </div>
        </div>
      </div>
    </section>

    <!-- ================= MEJORAS ================= -->
    <section class="border rounded p-4 space-y-2">
      <h2 class="font-bold text-lg text-green-700">¿Qué podemos mejorar?</h2>
      <mat-form-field appearance="outline" class="w-full">
        <textarea matInput rows="3" formControlName="mejoras"></textarea>
      </mat-form-field>
    </section>

    <!-- ================= SERVICIOS DESEADOS ================= -->
    <section class="border rounded p-4 space-y-2">
      <h2 class="font-bold text-lg text-green-700">
        Servicios que le gustaría que agreguemos
      </h2>
      <mat-form-field appearance="outline" class="w-full">
        <textarea matInput rows="2" formControlName="productosDeseados"></textarea>
      </mat-form-field>
    </section>

    <!-- ================= COMO CONOCIO ================= -->
    <section class="border rounded p-4 space-y-2">
      <h2 class="font-bold text-lg text-green-700">¿Cómo nos conoció?</h2>
      <mat-radio-group formControlName="comoConocio" class="grid grid-cols-2 md:grid-cols-3 gap-2">
        <mat-radio-button value="Recomendación">Recomendación</mat-radio-button>
        <mat-radio-button value="Busqueda en internet">Búsqueda en internet</mat-radio-button>
        <mat-radio-button value="Facebook">Facebook</mat-radio-button>
        <mat-radio-button value="Instagram">Instagram</mat-radio-button>
        <mat-radio-button value="LinkedIn">LinkedIn</mat-radio-button>
        <mat-radio-button value="Web">Página Web</mat-radio-button>
      </mat-radio-group>
    </section>

  </form>
</div>
